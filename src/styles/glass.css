/* AuraGlass Global Utilities - Token-First Architecture */

@import './tokens.css';
@import './themes/dark.css';
@import './themes/light.css';

/* ========================================
   BASE GLASS FOUNDATION
   ======================================== */

.glass,
.glass-foundation-complete {
  position: relative;
  backdrop-filter: var(--glass-backdrop-blur) var(--glass-filter-base);
  -webkit-backdrop-filter: var(--glass-backdrop-blur) var(--glass-filter-base);
  background: var(--glass-gradient-default);
  border: 2px solid var(--glass-border-default);
  box-shadow: var(--glass-elev-2);
  border-radius: var(--glass-radius-lg);
  transition: var(--glass-transition);
  color: var(--glass-text-primary);
}

/* ========================================
   BLUR UTILITIES
   ======================================== */

.glass-blur-none {
  --glass-backdrop-blur: blur(var(--glass-blur-none));
}

.glass-blur-sm {
  --glass-backdrop-blur: blur(var(--glass-blur-sm));
}

.glass-blur-md {
  --glass-backdrop-blur: blur(var(--glass-blur-md));
}

.glass-blur-lg {
  --glass-backdrop-blur: blur(var(--glass-blur-lg));
}

.glass-blur-xl {
  --glass-backdrop-blur: blur(var(--glass-blur-xl));
}

/* ========================================
   ELEVATION UTILITIES
   ======================================== */

.glass-elev-0 {
  box-shadow: var(--glass-elev-0);
}

.glass-elev-1 {
  box-shadow: var(--glass-elev-1);
}

.glass-elev-2 {
  box-shadow: var(--glass-elev-2);
}

.glass-elev-3 {
  box-shadow: var(--glass-elev-3);
}

.glass-elev-4 {
  box-shadow: var(--glass-elev-4);
}

.glass-elev-5 {
  box-shadow: var(--glass-elev-5);
}

.glass-elev-6 {
  box-shadow: var(--glass-elev-6);
}

/* Semantic elevation classes */
.glass-elev-level0 {
  box-shadow: var(--glass-elev-0);
}

.glass-elev-level1 {
  box-shadow: var(--glass-elev-1);
}

.glass-elev-level2 {
  box-shadow: var(--glass-elev-2);
}

.glass-elev-level3 {
  box-shadow: var(--glass-elev-3);
}

.glass-elev-level4 {
  box-shadow: var(--glass-elev-4);
}

.glass-elev-level5 {
  box-shadow: var(--glass-elev-5);
}

/* ========================================
   RADIUS UTILITIES
   ======================================== */

.glass-radius-none {
  border-radius: var(--glass-radius-none);
}

.glass-radius-sm {
  border-radius: var(--glass-radius-sm);
}

.glass-radius-md {
  border-radius: var(--glass-radius-md);
}

.glass-radius-lg {
  border-radius: var(--glass-radius-lg);
}

.glass-radius-xl {
  border-radius: var(--glass-radius-xl);
}

.glass-radius-2xl {
  border-radius: var(--glass-radius-2xl);
}

.glass-radius-full {
  border-radius: var(--glass-radius-full);
}

/* ========================================
   TEXT UTILITIES
   ======================================== */

.glass-text-balance {
  text-wrap: balance;
}

.glass-hyphenate {
  overflow-wrap: anywhere;
  word-break: break-word;
  hyphens: auto;
}

.glass-no-truncate {
  white-space: normal;
  text-overflow: clip;
  overflow: visible;
}

.glass-ellipsis-optin {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}

.glass-wrap-anywhere {
  overflow-wrap: anywhere;
}

/* ========================================
   FOCUS UTILITIES
   ======================================== */

.glass-focus:focus-visible {
  outline: var(--glass-focus-width) solid var(--glass-focus-color);
  outline-offset: var(--glass-focus-offset);
}

.glass-focus-inset:focus-visible {
  outline: var(--glass-focus-width) solid var(--glass-focus-color);
  outline-offset: calc(var(--glass-focus-offset) * -1);
}

.glass-focus-strong:focus-visible {
  outline: calc(var(--glass-focus-width) + 1px) solid var(--glass-focus-color);
  outline-offset: var(--glass-focus-offset);
  box-shadow: 0 0 0 4px rgba(var(--glass-color-primary) / var(--glass-opacity-20));
}

/* ========================================
   CONTRAST GUARD
   ======================================== */

.glass-contrast-guard {
  color: var(--glass-text-primary);
}

/* ========================================
   MOTION UTILITIES
   ======================================== */

@keyframes glass-float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

@keyframes glass-shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@keyframes glass-ambient {
  0%, 100% {
    opacity: var(--glass-opacity-80);
  }
  50% {
    opacity: var(--glass-opacity-100);
  }
}

@keyframes glass-press {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.98);
  }
  100% {
    transform: scale(1);
  }
}

.glass-animate-float {
  animation: glass-float 3s var(--glass-motion-ease-in-out) infinite;
}

.glass-animate-shimmer {
  position: relative;
  overflow: hidden;
}

.glass-animate-shimmer::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    120deg,
    transparent 0%,
    rgba(var(--glass-color-white) / var(--glass-opacity-10)) 20%,
    rgba(var(--glass-color-white) / var(--glass-opacity-20)) 35%,
    rgba(var(--glass-color-white) / var(--glass-opacity-10)) 50%,
    transparent 60%
  );
  background-size: 200% 100%;
  animation: glass-shimmer 2.5s var(--glass-motion-ease-standard) infinite;
  pointer-events: none;
}

.glass-animate-ambient {
  animation: glass-ambient 4s var(--glass-motion-ease-in-out) infinite;
}

.glass-animate-press:active {
  animation: glass-press var(--glass-motion-duration-fast) var(--glass-motion-ease-standard);
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .glass-animate-float,
  .glass-animate-shimmer::after,
  .glass-animate-ambient,
  .glass-animate-press,
  [class^="glass-animate-"],
  [class*=" glass-animate-"] {
    animation: none !important;
  }
}

/* ========================================
   STATE UTILITIES
   ======================================== */

.glass-state-hoverable {
  transition: var(--glass-transition);
  cursor: pointer;
}

.glass-state-hoverable:hover {
  background: var(--glass-bg-hover);
  border-color: var(--glass-border-hover);
  transform: translateY(var(--glass-state-hover-lift));
}

.glass-state-active:active {
  background: var(--glass-bg-active);
  border-color: var(--glass-border-active);
  transform: translateY(var(--glass-state-active-press));
}

.glass-state-disabled {
  opacity: var(--glass-state-disabled-opacity);
  pointer-events: none;
  cursor: not-allowed;
}

/* ========================================
   LAYERING MODEL
   ======================================== */

.glass-layer-bg {
  z-index: var(--glass-z-0);
}

.glass-layer-frost {
  z-index: var(--glass-z-10);
}

.glass-layer-ink {
  z-index: var(--glass-z-20);
}

.glass-layer-chrome {
  z-index: var(--glass-z-30);
}

/* ========================================
   SEMANTIC SURFACE VARIANTS
   ======================================== */

.glass-surface-primary {
  background: var(--glass-gradient-primary);
  border-color: var(--glass-accent-primary-border);
}

.glass-surface-success {
  background: var(--glass-gradient-success);
  border-color: var(--glass-accent-success-border);
}

.glass-surface-warning {
  background: var(--glass-gradient-warning);
  border-color: var(--glass-accent-warning-border);
}

.glass-surface-danger {
  background: var(--glass-gradient-danger);
  border-color: var(--glass-accent-danger-border);
}

.glass-surface-info {
  background: var(--glass-gradient-info);
  border-color: var(--glass-accent-info-border);
}

/* ========================================
   TYPOGRAPHY UTILITIES
   ======================================== */

.glass-text-xs {
  font-size: var(--glass-font-size-xs);
}

.glass-text-sm {
  font-size: var(--glass-font-size-sm);
}

.glass-text-base {
  font-size: var(--glass-font-size-base);
}

.glass-text-lg {
  font-size: var(--glass-font-size-lg);
}

.glass-text-xl {
  font-size: var(--glass-font-size-xl);
}

.glass-text-2xl {
  font-size: var(--glass-font-size-2xl);
}

.glass-text-3xl {
  font-size: var(--glass-font-size-3xl);
}

.glass-text-4xl {
  font-size: var(--glass-font-size-4xl);
}

.glass-text-5xl {
  font-size: var(--glass-font-size-5xl);
}

/* Leading utilities */
.glass-leading-none {
  line-height: var(--glass-leading-none);
}

.glass-leading-tight {
  line-height: var(--glass-leading-tight);
}

.glass-leading-snug {
  line-height: var(--glass-leading-snug);
}

.glass-leading-normal {
  line-height: var(--glass-leading-normal);
}

.glass-leading-relaxed {
  line-height: var(--glass-leading-relaxed);
}

.glass-leading-loose {
  line-height: var(--glass-leading-loose);
}

/* Tracking utilities */
.glass-tracking-tighter {
  letter-spacing: var(--glass-tracking-tighter);
}

.glass-tracking-tight {
  letter-spacing: var(--glass-tracking-tight);
}

.glass-tracking-normal {
  letter-spacing: var(--glass-tracking-normal);
}

.glass-tracking-wide {
  letter-spacing: var(--glass-tracking-wide);
}

.glass-tracking-wider {
  letter-spacing: var(--glass-tracking-wider);
}

.glass-tracking-widest {
  letter-spacing: var(--glass-tracking-widest);
}

/* Font weight utilities */
.glass-font-thin {
  font-weight: var(--glass-font-thin);
}

.glass-font-extralight {
  font-weight: var(--glass-font-extralight);
}

.glass-font-light {
  font-weight: var(--glass-font-light);
}

.glass-font-normal {
  font-weight: var(--glass-font-normal);
}

.glass-font-medium {
  font-weight: var(--glass-font-medium);
}

.glass-font-semibold {
  font-weight: var(--glass-font-semibold);
}

.glass-font-bold {
  font-weight: var(--glass-font-bold);
}

.glass-font-extrabold {
  font-weight: var(--glass-font-extrabold);
}

.glass-font-black {
  font-weight: var(--glass-font-black);
}

/* ========================================
   SPACING UTILITIES
   ======================================== */

.glass-p-0 { padding: var(--glass-space-0); }
.glass-p-px { padding: var(--glass-space-px); }
.glass-p-0-5 { padding: var(--glass-space-0-5); }
.glass-p-1 { padding: var(--glass-space-1); }
.glass-p-1-5 { padding: var(--glass-space-1-5); }
.glass-p-2 { padding: var(--glass-space-2); }
.glass-p-2-5 { padding: var(--glass-space-2-5); }
.glass-p-3 { padding: var(--glass-space-3); }
.glass-p-3-5 { padding: var(--glass-space-3-5); }
.glass-p-4 { padding: var(--glass-space-4); }
.glass-p-5 { padding: var(--glass-space-5); }
.glass-p-6 { padding: var(--glass-space-6); }
.glass-p-7 { padding: var(--glass-space-7); }
.glass-p-8 { padding: var(--glass-space-8); }
.glass-p-9 { padding: var(--glass-space-9); }
.glass-p-10 { padding: var(--glass-space-10); }
.glass-p-11 { padding: var(--glass-space-11); }
.glass-p-12 { padding: var(--glass-space-12); }
.glass-p-14 { padding: var(--glass-space-14); }
.glass-p-16 { padding: var(--glass-space-16); }
.glass-p-20 { padding: var(--glass-space-20); }

/* Margin utilities */
.glass-m-0 { margin: var(--glass-space-0); }
.glass-m-px { margin: var(--glass-space-px); }
.glass-m-0-5 { margin: var(--glass-space-0-5); }
.glass-m-1 { margin: var(--glass-space-1); }
.glass-m-1-5 { margin: var(--glass-space-1-5); }
.glass-m-2 { margin: var(--glass-space-2); }
.glass-m-2-5 { margin: var(--glass-space-2-5); }
.glass-m-3 { margin: var(--glass-space-3); }
.glass-m-3-5 { margin: var(--glass-space-3-5); }
.glass-m-4 { margin: var(--glass-space-4); }
.glass-m-5 { margin: var(--glass-space-5); }
.glass-m-6 { margin: var(--glass-space-6); }
.glass-m-7 { margin: var(--glass-space-7); }
.glass-m-8 { margin: var(--glass-space-8); }
.glass-m-9 { margin: var(--glass-space-9); }
.glass-m-10 { margin: var(--glass-space-10); }
.glass-m-11 { margin: var(--glass-space-11); }
.glass-m-12 { margin: var(--glass-space-12); }
.glass-m-14 { margin: var(--glass-space-14); }
.glass-m-16 { margin: var(--glass-space-16); }
.glass-m-20 { margin: var(--glass-space-20); }

/* Gap utilities */
.glass-gap-0 { gap: var(--glass-space-0); }
.glass-gap-px { gap: var(--glass-space-px); }
.glass-gap-0-5 { gap: var(--glass-space-0-5); }
.glass-gap-1 { gap: var(--glass-space-1); }
.glass-gap-1-5 { gap: var(--glass-space-1-5); }
.glass-gap-2 { gap: var(--glass-space-2); }
.glass-gap-2-5 { gap: var(--glass-space-2-5); }
.glass-gap-3 { gap: var(--glass-space-3); }
.glass-gap-3-5 { gap: var(--glass-space-3-5); }
.glass-gap-4 { gap: var(--glass-space-4); }
.glass-gap-5 { gap: var(--glass-space-5); }
.glass-gap-6 { gap: var(--glass-space-6); }
.glass-gap-7 { gap: var(--glass-space-7); }
.glass-gap-8 { gap: var(--glass-space-8); }

/* ========================================
   OVERLAY UTILITIES
   ======================================== */

.glass-overlay-noise {
  position: relative;
}

.glass-overlay-noise::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  mix-blend-mode: overlay;
  opacity: var(--glass-noise-opacity);
  background-image: var(--glass-noise-svg);
  background-size: 120px 120px;
}

.glass-edge {
  box-shadow: inset 0 0 var(--glass-edge-blur) var(--glass-edge-color);
}

.glass-overlay-specular {
  position: relative;
  isolation: isolate;
}

.glass-overlay-specular::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  pointer-events: none;
  mix-blend-mode: screen;
  background: radial-gradient(
    60% 60% at 50% -10%,
    var(--glass-specular-color) 0%,
    transparent 60%
  );
  opacity: var(--glass-specular-intensity);
}

/* ========================================
   GLOW UTILITIES
   ======================================== */

.glass-glow {
  filter: drop-shadow(0 0 14px rgba(var(--glass-color-primary) / var(--glass-opacity-30)));
}

.glass-glow-primary {
  filter: drop-shadow(0 0 14px hsl(var(--glass-color-primary) / var(--glass-opacity-30)));
}

.glass-glow-success {
  filter: drop-shadow(0 0 14px hsl(var(--glass-color-success) / var(--glass-opacity-30)));
}

.glass-glow-warning {
  filter: drop-shadow(0 0 14px hsl(var(--glass-color-warning) / var(--glass-opacity-30)));
}

.glass-glow-danger {
  filter: drop-shadow(0 0 14px hsl(var(--glass-color-danger) / var(--glass-opacity-30)));
}

.glass-glow-info {
  filter: drop-shadow(0 0 14px hsl(var(--glass-color-info) / var(--glass-opacity-30)));
}

/* ========================================
   TOUCH TARGET UTILITIES
   ======================================== */

.glass-touch-target {
  min-height: var(--glass-touch-target-min);
  min-width: var(--glass-touch-target-min);
}

.glass-touch-target-sm {
  min-height: var(--glass-touch-target-sm);
  min-width: var(--glass-touch-target-sm);
}

.glass-touch-target-md {
  min-height: var(--glass-touch-target-md);
  min-width: var(--glass-touch-target-md);
}

.glass-touch-target-lg {
  min-height: var(--glass-touch-target-lg);
  min-width: var(--glass-touch-target-lg);
}

/* ========================================
   CONTAINER UTILITIES
   ======================================== */

.glass-container {
  width: 100%;
  margin-inline: auto;
}

.glass-container-xs {
  max-width: var(--glass-container-xs);
}

.glass-container-sm {
  max-width: var(--glass-container-sm);
}

.glass-container-md {
  max-width: var(--glass-container-md);
}

.glass-container-lg {
  max-width: var(--glass-container-lg);
}

.glass-container-xl {
  max-width: var(--glass-container-xl);
}

.glass-container-2xl {
  max-width: var(--glass-container-2xl);
}

.glass-container-3xl {
  max-width: var(--glass-container-3xl);
}

.glass-container-4xl {
  max-width: var(--glass-container-4xl);
}

.glass-container-5xl {
  max-width: var(--glass-container-5xl);
}

.glass-container-6xl {
  max-width: var(--glass-container-6xl);
}

.glass-container-7xl {
  max-width: var(--glass-container-7xl);
}

.glass-container-full {
  max-width: var(--glass-container-full);
}

/* ========================================
   INTERACTIVE ELEMENTS
   ======================================== */

.glass-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--glass-space-3) var(--glass-space-6);
  min-height: var(--glass-touch-target-min);
  background: var(--glass-gradient-default);
  border: 2px solid var(--glass-border-default);
  border-radius: var(--glass-radius-lg);
  color: var(--glass-text-primary);
  font-weight: var(--glass-font-medium);
  backdrop-filter: var(--glass-backdrop-blur) var(--glass-filter-base);
  -webkit-backdrop-filter: var(--glass-backdrop-blur) var(--glass-filter-base);
  box-shadow: var(--glass-elev-2);
  transition: var(--glass-transition);
  cursor: pointer;
  user-select: none;
}

.glass-button:hover {
  background: var(--glass-bg-hover);
  border-color: var(--glass-border-hover);
  transform: translateY(var(--glass-state-hover-lift));
  box-shadow: var(--glass-elev-3);
}

.glass-button:focus-visible {
  outline: var(--glass-focus-width) solid var(--glass-focus-color);
  outline-offset: var(--glass-focus-offset);
}

.glass-button:active {
  transform: translateY(var(--glass-state-active-press));
  box-shadow: var(--glass-elev-1);
}

.glass-button:disabled {
  opacity: var(--glass-state-disabled-opacity);
  pointer-events: none;
  cursor: not-allowed;
}

.glass-input {
  display: block;
  width: 100%;
  padding: var(--glass-space-3) var(--glass-space-4);
  min-height: var(--glass-touch-target-min);
  background: var(--glass-control-bg);
  border: 1px solid var(--glass-control-border);
  border-radius: var(--glass-radius-md);
  color: var(--glass-text-primary);
  font-size: var(--glass-font-size-base);
  backdrop-filter: blur(var(--glass-blur-sm)) var(--glass-filter-base);
  -webkit-backdrop-filter: blur(var(--glass-blur-sm)) var(--glass-filter-base);
  transition: var(--glass-transition);
}

.glass-input::placeholder {
  color: var(--glass-text-tertiary);
}

.glass-input:hover {
  background: var(--glass-control-bg-hover);
  border-color: var(--glass-control-border-hover);
}

.glass-input:focus {
  outline: var(--glass-focus-width) solid var(--glass-focus-color);
  outline-offset: var(--glass-focus-offset);
  background: var(--glass-control-bg-active);
  border-color: var(--glass-control-border-active);
}

.glass-input:disabled {
  opacity: var(--glass-state-disabled-opacity);
  pointer-events: none;
  cursor: not-allowed;
}

/* ========================================
   VARIANT UTILITIES
   ======================================== */

.glass-subtle {
  background: var(--glass-gradient-subtle);
  border-color: var(--glass-border-subtle);
  box-shadow: var(--glass-elev-1);
}

.glass-strong {
  background: var(--glass-gradient-strong);
  border-color: var(--glass-border-strong);
  box-shadow: var(--glass-elev-3);
}

/* ========================================
   MODAL & OVERLAY
   ======================================== */

.glass-modal {
  background: var(--glass-bg-strong);
  backdrop-filter: blur(var(--glass-blur-xl)) var(--glass-filter-base);
  -webkit-backdrop-filter: blur(var(--glass-blur-xl)) var(--glass-filter-base);
  border: 2px solid var(--glass-border-strong);
  box-shadow: var(--glass-elev-5);
  z-index: var(--glass-z-50);
}

.glass-overlay {
  position: fixed;
  inset: 0;
  background: var(--glass-overlay-bg);
  backdrop-filter: blur(var(--glass-blur-sm));
  -webkit-backdrop-filter: blur(var(--glass-blur-sm));
  z-index: var(--glass-z-40);
}

/* ========================================
   LAYOUT UTILITIES
   ======================================== */

.glass-stack {
  display: flex;
  flex-direction: column;
  gap: var(--glass-space-4);
}

.glass-stack-sm {
  gap: var(--glass-space-2);
}

.glass-stack-lg {
  gap: var(--glass-space-6);
}

.glass-center {
  display: grid;
  place-items: center;
}

.glass-fit {
  width: 100%;
  height: 100%;
}

/* ========================================
   A11Y & PERFORMANCE
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

@media (prefers-contrast: high) {
  :root {
    --glass-bg-default: rgba(var(--glass-color-white) / var(--glass-opacity-80));
    --glass-bg-strong: rgba(var(--glass-color-white) / var(--glass-opacity-90));
    --glass-border-default: rgba(var(--glass-color-white) / var(--glass-opacity-90));
    --glass-text-primary: rgba(var(--glass-color-white) / var(--glass-opacity-100));
    --glass-text-secondary: rgba(var(--glass-color-white) / var(--glass-opacity-95));
  }
}

@supports not (backdrop-filter: blur(0)) {
  .glass,
  .glass-foundation-complete,
  .glass-subtle,
  .glass-strong,
  .glass-modal {
    background: rgba(var(--glass-color-black) / var(--glass-opacity-80)) !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
}

/* ========================================
   RTL SUPPORT
   ======================================== */

[dir="rtl"] .glass-container {
  margin-inline: auto;
}

[dir="rtl"] .glass-p-4 {
  padding-inline-start: var(--glass-space-4);
  padding-inline-end: var(--glass-space-4);
}

/* ========================================
   PRINT STYLES
   ======================================== */

@media print {
  .glass,
  .glass-foundation-complete {
    background: rgba(var(--glass-color-white) / var(--glass-opacity-100));
    border: 1px solid rgba(var(--glass-color-black) / var(--glass-opacity-20));
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    box-shadow: none;
  }
}